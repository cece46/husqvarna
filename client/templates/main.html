
<head>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

<!--    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">-->

    
    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

    
    
    <title>Husqvarna Connect</title>
</head>

<body>
    <div id="Cconteneur_auth">
        <div class="el_auth">{{> authentification}}</div>
    </div>
    
    <div id="conteneur_status">
        <div class="el_status">{{> robot_status}}</div>
        <div class="el_map">{{> map}}</div>
    </div>
    
</body>

<template name="authentification">
    {{#if isLogged}}
    {{else}}
        <div id="conteneur_auth">
            <form class="form">
            <label for="inputEmail" class="sr-only">Email address</label>
            <input type="email" id="inputEmail" class="form-control" placeholder="Email address" required autofocus>
            <label for="inputPassword" class="sr-only">Password</label>
            <input type="password" id="inputPassword" class="form-control" placeholder="Password" required>
            <button class="btn btn-lg btn-primary btn-block" id="submit" type="submit">Sign in</button>
          </form>
    </div>
    {{/if}}

</template>

<template name="robot_status">
     {{#if isLogged}}
        <h2> Status</h2>
        <div class="table-responsive">
          <table class="table">
            <tbody>
              <tr class="active">
                <td>Nom:</td>
                <td>{{name}}</td>
              </tr>
              <tr>
                <td>ID:</td>
                <td>{{id}}</td>
              </tr>
              <tr>
                <td>Batterie:</td>
                <td>{{battery}} %</td>
              </tr>
              <tr>
                <td>Connecté:</td>
                  <td><span class="label label-success">{{connected}}</span></td>
              </tr>
              <tr>
                <td>Etat:</td>
                  <td>{{state}}</td>
              </tr>
              <tr>
                <td>Info:</td>
                  <td>{{info}}</td>
              </tr>
              <tr>
                <td>Heure:</td>
                  <td>{{time}}</td>
              </tr>
            </tbody>
          </table>
        </div>
     
    {{/if}}


</template>

<template name="map">
    {{#if isLogged}}
        <div class="map row">
            {{> mapCanvas2}}
        </div>
    {{/if}}
</template>

<template name="mapCanvas2">
    
   <!-- <button name="carto" id="carto">Get Carto</button>   -->
    
    <div id="block_container">  
        <div class="row">
            <div id="block_zone">
            <div id="divlabel"><label>Zone de Protection virtuelle</label></div>
            <div id="divonnoff">
                <div class="onoffswitch">
                    <input type="checkbox" name="onoffswitchZ" class="onoffswitch-checkbox" id="myonoffswitchZ" >
                    <label class="onoffswitch-label" for="myonoffswitchZ"></label>
                </div>
            </div>
            </div>
        </div>

        <div id="block_space"></div>

        <div id="block_course">
            <div id="divlabel"><label>Course de déplacement</label></div>
            <div id="divonnoff">
                <div class="onoffswitch">
                    <input type="checkbox" name="onoffswitchC" class="onoffswitch-checkbox" id="myonoffswitchC" >
                    <label class="onoffswitch-label" for="myonoffswitchC"></label>
                </div>
            </div>
        </div>
    
    </div>
    
    
    <div id="map-canvas2" class="map-canvas"></div>
</template>